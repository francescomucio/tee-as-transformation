{% extends "base.html" %}

{% block title %}t4t Documentation{% endblock %}

{% block content %}
<div class="container">
    <h1>t4t Documentation</h1>
    
    <div class="stats">
        <div class="stat">
            <div class="stat-value">{{ models_count }}</div>
            <div class="stat-label">Models</div>
        </div>
        <div class="stat">
            <div class="stat-value">{{ nodes_count }}</div>
            <div class="stat-label">Nodes</div>
        </div>
        <div class="stat">
            <div class="stat-value">{{ edges_count }}</div>
            <div class="stat-label">Dependencies</div>
        </div>
    </div>

    <h2>Dependency Graph</h2>
    <div class="graph-container">
        <div class="mermaid">
{{ mermaid_diagram }}
        </div>
    </div>

    <h2>Models</h2>
    <div class="models-grid">
        {% for model_info in models %}
        <div class="model-card">
            <h3><a href="model_{{ model_info.safe_name }}.html">{{ model_info.name }}</a></h3>
            <p class="description">{{ model_info.description }}</p>
            <div class="model-meta">
                <span class="badge badge-{{ model_info.materialization }}">{{ model_info.materialization }}</span>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}

