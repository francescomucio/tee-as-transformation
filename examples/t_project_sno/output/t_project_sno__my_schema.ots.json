{
  "ots_version": "0.1.0",
  "module_name": "t_project_sno.my_schema",
  "module_description": "Transformations for my_schema schema",
  "target": {
    "database": "t_project_sno",
    "schema": "my_schema",
    "sql_dialect": "snowflake"
  },
  "transformations": [
    {
      "transformation_id": "my_schema.incremental_example",
      "description": "SQL model for my_schema.incremental_example",
      "transformation_type": "sql",
      "sql_dialect": "snowflake",
      "code": {
        "sql": {
          "original_sql": "SELECT id, name, CURRENT_TIMESTAMP() AS created_at, CURRENT_TIMESTAMP() AS updated_at, 'active' AS status FROM my_schema.my_first_table",
          "resolved_sql": "SELECT id, name, CURRENT_TIMESTAMP() AS created_at, CURRENT_TIMESTAMP() AS updated_at, 'active' AS status FROM my_schema.my_first_table",
          "operation_type": "select",
          "source_tables": [
            "my_first_table"
          ],
          "source_functions": [
            "CURRENT_TIMESTAMP()"
          ]
        }
      },
      "schema": {
        "columns": [
          {
            "name": "created_at",
            "datatype": "date",
            "description": null
          },
          {
            "name": "updated_at",
            "datatype": "date",
            "description": null
          },
          {
            "name": "status",
            "datatype": "string",
            "description": null
          }
        ],
        "partitioning": []
      },
      "materialization": {
        "type": "incremental",
        "incremental_details": {
          "strategy": "delete_insert",
          "delete_condition": "updated_at >= '@start_date'",
          "filter_condition": "updated_at >= '@start_date'"
        }
      },
      "metadata": {
        "file_path": "examples/t_project_sno/models/my_schema/incremental_example.sql"
      }
    },
    {
      "transformation_id": "my_schema.my_first_table",
      "description": "SQL model for my_schema.my_first_table",
      "transformation_type": "sql",
      "sql_dialect": "snowflake",
      "code": {
        "sql": {
          "original_sql": "SELECT 1 AS id, 'first test' AS name UNION ALL SELECT 2 AS id, 'second test' AS name UNION ALL SELECT 3 AS id, 'third test' AS name",
          "resolved_sql": "SELECT 1 AS id, 'first test' AS name UNION ALL SELECT 2 AS id, 'second test' AS name UNION ALL SELECT 3 AS id, 'third test' AS name",
          "operation_type": "union",
          "source_tables": [],
          "source_functions": []
        }
      },
      "schema": {
        "columns": [
          {
            "name": "id",
            "datatype": "number",
            "description": "Unique identifier for the record"
          },
          {
            "name": "name",
            "datatype": "string",
            "description": "Name of the record"
          }
        ],
        "partitioning": [
          "id"
        ]
      },
      "materialization": {
        "type": "table"
      },
      "metadata": {
        "file_path": "examples/t_project_sno/models/my_schema/my_first_table.sql"
      },
      "tests": {
        "columns": {
          "id": [
            "not_null",
            "unique"
          ],
          "name": [
            "not_null"
          ]
        },
        "table": [
          "row_count_gt_0"
        ]
      }
    },
    {
      "transformation_id": "my_schema.my_forth_table",
      "description": "SQL model for my_schema.my_forth_table",
      "transformation_type": "sql",
      "sql_dialect": "snowflake",
      "code": {
        "sql": {
          "original_sql": "SELECT id FROM my_first_table WHERE id = 1",
          "resolved_sql": "SELECT id FROM my_schema.my_first_table WHERE id = 1",
          "operation_type": "select",
          "source_tables": [
            "my_first_table"
          ],
          "source_functions": []
        }
      },
      "schema": null,
      "materialization": {
        "type": "table"
      },
      "metadata": {
        "file_path": "examples/t_project_sno/models/my_schema/my_forth_table.sql"
      }
    },
    {
      "transformation_id": "my_schema.my_second_table",
      "description": "SQL model for my_schema.my_second_table",
      "transformation_type": "sql",
      "sql_dialect": "snowflake",
      "code": {
        "sql": {
          "original_sql": "SELECT * FROM my_first_table",
          "resolved_sql": "SELECT * FROM my_schema.my_first_table",
          "operation_type": "select",
          "source_tables": [
            "my_first_table"
          ],
          "source_functions": []
        }
      },
      "schema": {
        "columns": [
          {
            "name": "id",
            "datatype": "number",
            "description": "Foreign key reference to my_first_table"
          },
          {
            "name": "name",
            "datatype": "string",
            "description": "Additional information"
          }
        ],
        "partitioning": []
      },
      "materialization": {
        "type": "view"
      },
      "metadata": {
        "file_path": "examples/t_project_sno/models/my_schema/my_second_table.sql"
      },
      "tests": {
        "columns": {
          "name": [
            "not_null"
          ]
        },
        "table": [
          "row_count_gt_0",
          "unique"
        ]
      }
    },
    {
      "transformation_id": "my_schema.my_third_table",
      "description": "SQL model for my_schema.my_third_table",
      "transformation_type": "sql",
      "sql_dialect": "snowflake",
      "code": {
        "sql": {
          "original_sql": "SELECT t1.id, t2.name FROM my_first_table AS t1 INNER JOIN my_second_table AS t2 ON t1.id = t2.id",
          "resolved_sql": "SELECT t1.id, t2.name FROM my_schema.my_first_table AS t1 INNER JOIN my_schema.my_second_table AS t2 ON t1.id = t2.id",
          "operation_type": "select",
          "source_tables": [
            "my_first_table",
            "my_second_table"
          ],
          "source_functions": []
        }
      },
      "schema": null,
      "materialization": {
        "type": "table"
      },
      "metadata": {
        "file_path": "examples/t_project_sno/models/my_schema/my_third_table.sql"
      }
    },
    {
      "transformation_id": "my_schema.users_summary",
      "description": "Summary of user data",
      "transformation_type": "sql",
      "sql_dialect": "snowflake",
      "code": {
        "sql": {
          "original_sql": "SELECT * FROM my_first_table",
          "resolved_sql": "SELECT * FROM my_schema.my_first_table",
          "operation_type": "select",
          "source_tables": [
            "my_first_table"
          ],
          "source_functions": []
        }
      },
      "schema": null,
      "materialization": {
        "type": "table"
      },
      "metadata": {
        "file_path": "examples/t_project_sno/models/my_schema/advanced_models.py"
      }
    },
    {
      "transformation_id": "my_schema.recent_users",
      "description": null,
      "transformation_type": "sql",
      "sql_dialect": "snowflake",
      "code": {
        "sql": {
          "original_sql": "SELECT * FROM my_first_table",
          "resolved_sql": "SELECT * FROM my_schema.my_first_table",
          "operation_type": "select",
          "source_tables": [
            "my_first_table"
          ],
          "source_functions": []
        }
      },
      "schema": null,
      "materialization": {
        "type": "table"
      },
      "metadata": {
        "file_path": "examples/t_project_sno/models/my_schema/advanced_models.py"
      }
    },
    {
      "transformation_id": "my_schema.complex_join",
      "description": null,
      "transformation_type": "sql",
      "sql_dialect": "snowflake",
      "code": {
        "sql": {
          "original_sql": "SELECT * FROM my_first_table",
          "resolved_sql": "SELECT * FROM my_schema.my_first_table",
          "operation_type": "select",
          "source_tables": [
            "my_first_table"
          ],
          "source_functions": []
        }
      },
      "schema": null,
      "materialization": {
        "type": "table"
      },
      "metadata": {
        "file_path": "examples/t_project_sno/models/my_schema/advanced_models.py"
      }
    },
    {
      "transformation_id": "my_schema.my_auto_table_one",
      "description": null,
      "transformation_type": "sql",
      "sql_dialect": "snowflake",
      "code": {
        "sql": {
          "original_sql": "SELECT * FROM my_first_table",
          "resolved_sql": "SELECT * FROM my_schema.my_first_table",
          "operation_type": "select",
          "source_tables": [
            "my_first_table"
          ],
          "source_functions": []
        }
      },
      "schema": null,
      "materialization": {
        "type": "table"
      },
      "metadata": {
        "file_path": "examples/t_project_sno/models/my_schema/my_auto_tables.py"
      }
    }
  ]
}